
<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <title>ì‹¤ì‹œê°„ í™˜ìœ¨ ê³„ì‚°ê¸°</title>
  <style>
    body {
      font-family: Arial, sans-serif;
      max-width: 500px;
      margin: 40px auto;
      padding: 20px;
      border: 1px solid #ccc;
      border-radius: 12px;
    }
    input, select, button {
      padding: 10px;
      margin-top: 10px;
      font-size: 16px;
      width: 100%;
      box-sizing: border-box;
    }
    button {
      background-color: #e0e0e0;
      border: 1px solid #888;
      cursor: pointer;
    }
    button:hover {
      background-color: #d5d5d5;
    }
    #result, #rateInfo {
      margin-top: 15px;
      font-weight: bold;
      text-align: center;
      white-space: pre-line;
    }
  </style>
</head>
<body>
  <h2 style="text-align:center">ğŸ’± ì‹¤ì‹œê°„ í™˜ìœ¨ ê³„ì‚°ê¸°</h2>

  <input type="number" id="amount" placeholder="ê¸ˆì•¡ ì…ë ¥ (ì˜ˆ: 1000)" />

  <select id="fromCurrency">
    <option value="USD">USD (ë‹¬ëŸ¬)</option>
    <option value="EUR">EUR (ìœ ë¡œ)</option>
    <option value="JPY">JPY (ì—”)</option>
    <option value="KRW">KRW (ì›)</option>
  </select>

  <select id="toCurrency">
    <option value="KRW">KRW (ì›)</option>
    <option value="USD">USD (ë‹¬ëŸ¬)</option>
    <option value="EUR">EUR (ìœ ë¡œ)</option>
    <option value="JPY">JPY (ì—”)</option>
  </select>

  <button onclick="convertCurrency()">ğŸ’¸ ê³„ì‚°í•˜ê¸°</button>

  <div id="rateInfo">í™˜ìœ¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘...</div>
  <div id="result"></div>

  <script>
    async function convertCurrency() {
      const amountInput = document.getElementById('amount');
      const fromCurrency = document.getElementById('fromCurrency');
      const toCurrency = document.getElementById('toCurrency');

      const amount = parseFloat(amountInput.value);
      const from = fromCurrency.options[fromCurrency.selectedIndex].value;
      const to = toCurrency.options[toCurrency.selectedIndex].value;

      if (isNaN(amount)) {
        document.getElementById('result').innerText = "ê¸ˆì•¡ì„ ì…ë ¥í•˜ì„¸ìš”.";
        return;
      }

      if (from === to) {
        document.getElementById('rateInfo').innerText = `ë™ì¼ í†µí™”: 1 ${from} = 1 ${to}`;
        document.getElementById('result').innerText = `${amount} ${from} = ${amount.toFixed(2)} ${to}`;
        return;
      }

      try {
        const res = await fetch(`https://api.exchangerate.host/latest?base=${from}&symbols=${to}`);
        const data = await res.json();
        const rate = data.rates[to];
        const date = data.date;

        const converted = amount * rate;
        document.getElementById('rateInfo').innerText = `ğŸ“… ${date} ê¸°ì¤€
1 ${from} = ${rate.toFixed(4)} ${to}`;
        document.getElementById('result').innerText = `${amount} ${from} â†’ ${converted.toFixed(2)} ${to}`;
      } catch (err) {
        document.getElementById('rateInfo').innerText = "âŒ í™˜ìœ¨ ì •ë³´ë¥¼ ë¶ˆëŸ¬ì˜¤ì§€ ëª»í–ˆìŠµë‹ˆë‹¤.";
        document.getElementById('result').innerText = "";
      }
    }

    // ì´ˆê¸° ìë™ í™˜ìœ¨ ì •ë³´ í‘œì‹œ
    window.onload = () => {
      document.getElementById('amount').value = 1;
      convertCurrency();
    };
  </script>
</body>
</html>
